{"ast":null,"code":"var _jsxFileName = \"D:\\\\Disk\\\\Personal\\\\test4\\\\receipt-generator-app\\\\src\\\\components\\\\ReceiptGenerator.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport jsPDF from 'jspdf';\nimport { collection, addDoc, serverTimestamp } from 'firebase/firestore';\nimport { useAuth } from '../contexts/AuthContext';\nimport { db } from '../firebaseConfig';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function ReceiptGenerator() {\n  _s();\n  const {\n    currentUser\n  } = useAuth();\n  const [items, setItems] = useState([{\n    id: Date.now(),\n    name: '',\n    quantity: '',\n    price: ''\n  }]);\n  function handleItemChange(id, field, value) {\n    setItems(prevItems => prevItems.map(item => item.id === id ? {\n      ...item,\n      [field]: value\n    } : item));\n  }\n  function addItem() {\n    setItems(prevItems => [...prevItems, {\n      id: Date.now(),\n      name: '',\n      quantity: '',\n      price: ''\n    }]);\n  }\n  function removeItem(id) {\n    setItems(prevItems => prevItems.filter(item => item.id !== id));\n  }\n  function generatePDF() {\n    const doc = new jsPDF();\n    doc.setFont('Courier');\n    doc.setFontSize(16);\n    doc.text('Receipt', 10, 20);\n    let y = 30;\n    doc.setFontSize(12);\n    items.forEach((item, index) => {\n      const line = `${index + 1}. ${item.name} - Qty: ${item.quantity} - Price: $${item.price}`;\n      doc.text(line, 10, y);\n      y += 10;\n    });\n    doc.save('receipt.pdf');\n  }\n  async function saveReceipt() {\n    try {\n      await addDoc(collection(db, 'receipts'), {\n        userId: currentUser.uid,\n        items,\n        createdAt: serverTimestamp()\n      });\n      alert('Receipt saved successfully!');\n    } catch (error) {\n      alert('Failed to save receipt: ' + error.message);\n    }\n  }\n  function handleDownload() {\n    generatePDF();\n    saveReceipt();\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Generate Receipt\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), items.map((item, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Name\",\n        value: item.name,\n        onChange: e => handleItemChange(item.id, 'name', e.target.value),\n        required: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Quantity\",\n        value: item.quantity,\n        onChange: e => handleItemChange(item.id, 'quantity', e.target.value),\n        required: true,\n        min: \"1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Price per Each\",\n        value: item.price,\n        onChange: e => handleItemChange(item.id, 'price', e.target.value),\n        required: true,\n        min: \"0\",\n        step: \"0.01\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => removeItem(item.id),\n        children: \"Remove\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this)]\n    }, item.id, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: addItem,\n      children: \"Add New Item\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDownload,\n      style: {\n        marginLeft: '10px'\n      },\n      children: \"Download as PDF\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(ReceiptGenerator, \"uF4Jmt1iysiCbvOCOCaBGOHwPl0=\", false, function () {\n  return [useAuth];\n});\n_c = ReceiptGenerator;\nvar _c;\n$RefreshReg$(_c, \"ReceiptGenerator\");","map":{"version":3,"names":["React","useState","jsPDF","collection","addDoc","serverTimestamp","useAuth","db","jsxDEV","_jsxDEV","ReceiptGenerator","_s","currentUser","items","setItems","id","Date","now","name","quantity","price","handleItemChange","field","value","prevItems","map","item","addItem","removeItem","filter","generatePDF","doc","setFont","setFontSize","text","y","forEach","index","line","save","saveReceipt","userId","uid","createdAt","alert","error","message","handleDownload","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","type","placeholder","onChange","e","target","required","min","step","onClick","marginLeft","_c","$RefreshReg$"],"sources":["D:/Disk/Personal/test4/receipt-generator-app/src/components/ReceiptGenerator.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport jsPDF from 'jspdf';\r\nimport { collection, addDoc, serverTimestamp } from 'firebase/firestore';\r\nimport { useAuth } from '../contexts/AuthContext';\r\nimport { db } from '../firebaseConfig';\r\n\r\nexport default function ReceiptGenerator() {\r\n  const { currentUser } = useAuth();\r\n  const [items, setItems] = useState([\r\n    { id: Date.now(), name: '', quantity: '', price: '' }\r\n  ]);\r\n\r\n  function handleItemChange(id, field, value) {\r\n    setItems(prevItems =>\r\n      prevItems.map(item =>\r\n        item.id === id ? { ...item, [field]: value } : item\r\n      )\r\n    );\r\n  }\r\n\r\n  function addItem() {\r\n    setItems(prevItems => [\r\n      ...prevItems,\r\n      { id: Date.now(), name: '', quantity: '', price: '' }\r\n    ]);\r\n  }\r\n\r\n  function removeItem(id) {\r\n    setItems(prevItems => prevItems.filter(item => item.id !== id));\r\n  }\r\n\r\n  function generatePDF() {\r\n    const doc = new jsPDF();\r\n    doc.setFont('Courier');\r\n    doc.setFontSize(16);\r\n    doc.text('Receipt', 10, 20);\r\n    let y = 30;\r\n    doc.setFontSize(12);\r\n    items.forEach((item, index) => {\r\n      const line = `${index + 1}. ${item.name} - Qty: ${item.quantity} - Price: $${item.price}`;\r\n      doc.text(line, 10, y);\r\n      y += 10;\r\n    });\r\n    doc.save('receipt.pdf');\r\n  }\r\n\r\n  async function saveReceipt() {\r\n    try {\r\n      await addDoc(collection(db, 'receipts'), {\r\n        userId: currentUser.uid,\r\n        items,\r\n        createdAt: serverTimestamp()\r\n      });\r\n      alert('Receipt saved successfully!');\r\n    } catch (error) {\r\n      alert('Failed to save receipt: ' + error.message);\r\n    }\r\n  }\r\n\r\n  function handleDownload() {\r\n    generatePDF();\r\n    saveReceipt();\r\n  }\r\n\r\n  return (\r\n    <div style={{ padding: '20px' }}>\r\n      <h2>Generate Receipt</h2>\r\n      {items.map((item, index) => (\r\n        <div key={item.id} style={{ marginBottom: '10px' }}>\r\n          <input\r\n            type=\"text\"\r\n            placeholder=\"Name\"\r\n            value={item.name}\r\n            onChange={e => handleItemChange(item.id, 'name', e.target.value)}\r\n            required\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            placeholder=\"Quantity\"\r\n            value={item.quantity}\r\n            onChange={e => handleItemChange(item.id, 'quantity', e.target.value)}\r\n            required\r\n            min=\"1\"\r\n          />\r\n          <input\r\n            type=\"number\"\r\n            placeholder=\"Price per Each\"\r\n            value={item.price}\r\n            onChange={e => handleItemChange(item.id, 'price', e.target.value)}\r\n            required\r\n            min=\"0\"\r\n            step=\"0.01\"\r\n          />\r\n          <button onClick={() => removeItem(item.id)}>Remove</button>\r\n        </div>\r\n      ))}\r\n      <button onClick={addItem}>Add New Item</button>\r\n      <button onClick={handleDownload} style={{ marginLeft: '10px' }}>\r\n        Download as PDF\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}